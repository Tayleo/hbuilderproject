{"version":3,"sources":["webpack:///C:/Users/mcwal/Documents/HBuilderProjects/demo/components/submit/submit.vue?4400","webpack:///C:/Users/mcwal/Documents/HBuilderProjects/demo/components/submit/submit.vue?43d4","uni-app:///components/submit/submit.vue","webpack:///C:/Users/mcwal/Documents/HBuilderProjects/demo/components/emoji/emoji.vue?9a1e","webpack:///C:/Users/mcwal/Documents/HBuilderProjects/demo/components/emoji/emoji.vue?f27f","webpack:///C:/Users/mcwal/Documents/HBuilderProjects/demo/components/emoji/emoji.vue?1105","webpack:///C:/Users/mcwal/Documents/HBuilderProjects/demo/components/emoji/emoji.vue?5109","uni-app:///components/emoji/emoji.vue","webpack:///C:/Users/mcwal/Documents/HBuilderProjects/demo/components/emoji/emoji.vue?7682","webpack:///C:/Users/mcwal/Documents/HBuilderProjects/demo/components/emoji/emoji.vue?6403","webpack:///C:/Users/mcwal/Documents/HBuilderProjects/demo/components/submit/submit.vue?91ae","webpack:///C:/Users/mcwal/Documents/HBuilderProjects/demo/components/submit/submit.vue?5ef5","webpack:///C:/Users/mcwal/Documents/HBuilderProjects/demo/components/submit/submit.vue?11e4","webpack:///C:/Users/mcwal/Documents/HBuilderProjects/demo/components/submit/submit.vue?5931"],"names":[],"mappings":"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","file":"components/submit/submit.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./submit.vue?vue&type=template&id=36098544&scoped=true&\"\nvar renderjs\nimport script from \"./submit.vue?vue&type=script&lang=js&\"\nexport * from \"./submit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./submit.vue?vue&type=style&index=0&id=36098544&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"36098544\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/submit/submit.vue\"\nexport default component.exports","import mod from \"-!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./submit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./submit.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"panel\">\n\t\t<view class=\"panel-top\">\n\t\t\t<view class=\"left\">\n\t\t\t\t<view class=\"sound\" @tap=\"sound\" v-if=\"isSound\"><image lazy-load src=\"../../static/pic/chat/sound.png\" mode=\"widthFix\"></image></view>\n\t\t\t\t<view class=\"sound\" @tap=\"sound\" v-else><image lazy-load src=\"../../static/pic/chat/keypress.png\" mode=\"widthFix\"></image></view>\n\t\t\t</view>\n\t\t\t<view class=\"center\">\n\t\t\t\t<view class=\"inputbox\" v-if=\"isSound\"><textarea class=\"c_input\" v-model=\"content\" auto-height=\"true\" placeholder=\"\" /></view>\n\t\t\t\t<view class=\"inputbox s_btn\" :class=\"touch ? 'touch' : ''\" v-else @touchstart=\"start\" @touchend=\"end\" @touchmove=\"move\">按住录音</view>\n\t\t\t</view>\n\t\t\t<view class=\"right\">\n\t\t\t\t<view class=\"emoji\" @tap=\"show('emoji')\"><image src=\"../../static/pic/chat/emoji.png\" mode=\"widthFix\"></image></view>\n\t\t\t\t<view class=\"add\" v-show=\"!content.length\" @tap=\"show('model')\"><image src=\"../../static/images/chat/add.png\" mode=\"widthFix\"></image></view>\n\t\t\t\t<view class=\"send\" v-show=\"content.length\" @tap=\"sendMsg\"><view class=\"btnbox\">发送</view></view>\n\t\t\t</view>\n\t\t</view>\n\t\t<view class=\"panel-bottom\" :animation=\"animationData\">\n\t\t\t<emoji @emotion=\"emotion\" v-show=\"type == 'emoji'\"></emoji>\n\t\t\t<view class=\"bottom-box\" v-show=\"type == 'model'\">\n\t\t\t\t<view class=\"module\" @tap=\"selectImg\">\n\t\t\t\t\t<view class=\"module-item\"><image lazy-load src=\"../../static/pic/chat/photo.png\" mode=\"widthFix\"></image></view>\n\t\t\t\t\t<view class=\"module-title\">照片</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"module\">\n\t\t\t\t\t<view class=\"module-item\"><image lazy-load src=\"../../static/pic/chat/camera.png\" mode=\"widthFix\"></image></view>\n\t\t\t\t\t<view class=\"module-title\">拍摄</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"module\" @tap=\"chooseLocation\">\n\t\t\t\t\t<view class=\"module-item\"><image lazy-load src=\"../../static/pic/chat/position.png\" mode=\"widthFix\"></image></view>\n\t\t\t\t\t<view class=\"module-title\">位置</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"module\">\n\t\t\t\t\t<view class=\"module-item\"><image lazy-load src=\"../../static/pic/chat/video.png\" mode=\"widthFix\"></image></view>\n\t\t\t\t\t<view class=\"module-title\">视频</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"module\">\n\t\t\t\t\t<view class=\"module-item\"><image lazy-load src=\"../../static/pic/chat/file.png\" mode=\"widthFix\"></image></view>\n\t\t\t\t\t<view class=\"module-title\">文件</view>\n\t\t\t\t</view>\n\t\t\t\t<!-- <view class=\"module\" @tap=\"money\">\n\t\t\t\t\t<view class=\"module-item\"><image class=\"hongbao\" lazy-load src=\"../../static/images/chat/hongbao.png\" mode=\"widthFix\"></image></view>\n\t\t\t\t\t<view class=\"module-title\">红包</view>\n\t\t\t\t</view> -->\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\nimport emoji from '../emoji/emoji.vue';\nimport emojiList from '../../common/js/emoji.js';\nimport request from '../../common/config/request.js';\n import { mapGetters } from 'vuex';\n\nconst recorderManager = uni.getRecorderManager();\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tcontent: '',\n\t\t\tanimationData: {},\n\t\t\tisShow: false,\n\t\t\ttype: 'emoji',\n\t\t\tpbHeight: 0,\n\t\t\tisSound: true,\n\t\t\ttouch: false,\n\t\t\theight: 0,\n\t\t\ttimer: null,\n\t\t\tduration: 0, //录音的时间\n\t\t\tstartPageY: 0,\n\t\t\tmovePageY: 0\n\t\t};\n\t},\n\tprops: ['id', 'chatType','maxDuration'],\n\tcomputed: {\n\t\t...mapGetters(['getUser', 'getChatType'])\n\t},\n\tmounted() {\n\t\tthis.measure();\n\t},\n\tmethods: {\n\t\t// 动画\n\t\tshow(type) {\n\t\t\tif (this.type == type) {\n\t\t\t\tthis.isShow = !this.isShow;\n\t\t\t} else {\n\t\t\t\tthis.type = type;\n\t\t\t\tif (!this.isShow) {\n\t\t\t\t\tthis.isShow = !this.isShow;\n\t\t\t\t} else {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar animation = uni.createAnimation({\n\t\t\t\tduration: 200,\n\t\t\t\ttimingFunction: 'ease'\n\t\t\t});\n\n\t\t\tif (this.isShow) {\n\t\t\t\tanimation.height('380rpx').step();\n\t\t\t} else {\n\t\t\t\tanimation.height('0rpx').step();\n\t\t\t}\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tconst query = uni.createSelectorQuery().in(this);\n\t\t\t\tquery\n\t\t\t\t\t.select('.panel')\n\t\t\t\t\t.boundingClientRect(data => {\n\t\t\t\t\t\tthis.$emit('measure', data.height);\n\t\t\t\t\t})\n\t\t\t\t\t.exec();\n\t\t\t}, 220);\n\t\t\tthis.animationData = animation.export();\n\t\t},\n\n\t\t// 发送图片\n\t\tselectImg() {\n\t\t\tlet url = this.chatType == 'private' ? 'http://localhost:3000/upload/chat/private/img' : 'http://localhost:3000/upload/chat/group/img';\n\t\t\t// let url = this.chatType == 'private' ? 'http://www.yemengs.cn/upload/chat/private/img' : 'http://www.yemengs.cn/upload/chat/group/img';\n\n\t\t\tlet savePath = this.chatType == 'private' ? 'privateChat' : 'groupChat';\n\t\t\tuni.chooseImage({\n\t\t\t\tsuccess: chooseImageRes => {\n\t\t\t\t\tconst tempFilePaths = chooseImageRes.tempFilePaths;\n\t\t\t\t\tconst uploadTask = uni.uploadFile({\n\t\t\t\t\t\turl,\n\t\t\t\t\t\tfilePath: tempFilePaths[0],\n\t\t\t\t\t\tname: 'file',\n\t\t\t\t\t\tformData: {\n\t\t\t\t\t\t\ttoken: uni.getStorageSync('token'),\n\t\t\t\t\t\t\tid: this.id,\n\t\t\t\t\t\t\tsavePath\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsuccess: uploadFileRes => {\n\t\t\t\t\t\t\tlet data = JSON.parse(uploadFileRes.data);\n\t\t\t\t\t\t\tif (this.chatType == 'private') {\n\t\t\t\t\t\t\t\t//私聊\n\t\t\t\t\t\t\t\tthis.$store.commit('updateChatMsg', {\n\t\t\t\t\t\t\t\t\tchatType: 'private',\n\t\t\t\t\t\t\t\t\tbelong: this.getUser._id,\n\t\t\t\t\t\t\t\t\tdate: new Date(),\n\t\t\t\t\t\t\t\t\tmessage: data.message,\n\t\t\t\t\t\t\t\t\timg: data.img,\n\t\t\t\t\t\t\t\t\ttype: 'image'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t//群聊\n\t\t\t\t\t\t\t\tthis.$store.commit('updateChatMsg', {\n\t\t\t\t\t\t\t\t\tid: this.id,\n\t\t\t\t\t\t\t\t\tchatType: 'group',\n\t\t\t\t\t\t\t\t\tuser: {\n\t\t\t\t\t\t\t\t\t\tname: this.getUser.name,\n\t\t\t\t\t\t\t\t\t\tavatars: this.getUser.avatars\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tbelong: this.getUser._id,\n\t\t\t\t\t\t\t\t\tdate: new Date(),\n\t\t\t\t\t\t\t\t\tmessage: data.message,\n\t\t\t\t\t\t\t\t\timg: data.img,\n\t\t\t\t\t\t\t\t\ttype: 'image'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tuploadTask.onProgressUpdate(res => {});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t// 发送信息\n\t\tsendMsg() {\n\t\t\tif (this.content != '') {\n\t\t\t\tlet reg = /(\\[([u4e00-\\u9fa5]{1,3})|[a-zA-Z]{1,3}\\])/g;\n\t\t\t\tlet emoji_list = this.content.replace(reg, list_item => {\n\t\t\t\t\tlet emojiItem = emojiList.filter(item => {\n\t\t\t\t\t\treturn item.alt == list_item;\n\t\t\t\t\t});\n\t\t\t\t\t// src需要换成自己的服务器地址\n\t\t\t\t\t// let imgstr = '<img class=\"emoji\" src=\"/static/emoji/' + emojiItem[0].url + '\">';\n\t\t\t\t\tlet imgstr = '<img class=\"emoji\" src=\"http://www.yemengs.cn/emoji/' + emojiItem[0].url + '\">';\n\t\t\t\t\treturn imgstr;\n\t\t\t\t});\n\t\t\t\tthis.$store.dispatch('sendMsg', {\n\t\t\t\t\tmessage: emoji_list,\n\t\t\t\t\tid: this.id,\n\t\t\t\t\ttoken: uni.getStorageSync('token'),\n\t\t\t\t\ttype: 'text',\n\t\t\t\t\tchatType: this.chatType\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.content = '';\n\t\t},\n\t\t// 选择表情\n\t\temotion(emoji) {\n\t\t\tif(emoji == '98.gif'){ //删除操作\n\t\t\t\t// let reg =  /\\[(.*?)\\]/g;\n\t\t\t\t// // let result = reg.exec(this.content)\n\t\t\t\t// let array = []\n\t\t\t\t// let temp =null\n\t\t\t\t// while ((temp = reg.exec(this.content)) ) {\n\t\t\t\t//   array.push(temp[0])\n\t\t\t\t// }\n\t\t\t\t// console.log(array)\n\t\t\t\tthis.content = this.content.slice(0,this.content.length-1)\n\t\t\t}else{\n\t\t\t\tlet emojiItem = emojiList.filter(item => {\n\t\t\t\t\treturn item.url == emoji;\n\t\t\t\t});\n\t\t\t\tthis.content = this.content + emojiItem[0].alt;\n\t\t\t}\n\t\t},\n\t\t// 点击录音按钮和键盘按钮触发的事件\n\t\tsound() {\n\t\t\tthis.isSound = !this.isSound;\n\t\t\tif (this.isShow) {\n\t\t\t\tthis.show(this.type);\n\t\t\t}\n\t\t},\n\t\t// 开始录音\n\t\tstart(e) {\n\t\t\tthis.touch = true;\n\t\t\tthis.startPageY = e.touches[0].pageY;\n\t\t\tthis.movePageY = e.touches[0].pageY;\n\t\t\tconsole.log('开始录音');\n\t\t\t// #ifdef APP-PLUS\n\t\t\trecorderManager.start();\n\t\t\t// #endif\n\t\t\tthis.$emit('record', true);\n\t\t\tthis.timer = setInterval(() => {\n\t\t\t\tthis.duration++;\n\t\t\t\tif(this.duration>=this.maxDuration){\n\t\t\t\t\tthis.end()\n\t\t\t\t}\n\t\t\t}, 1000);\n\t\t},\n\t\t// 结束录音\n\t\tend() {\n\t\t\tthis.touch = false;\n\t\t\tconsole.log('录音结束');\n\t\t\tthis.$emit('record', false);\n\t\t\tclearInterval(this.timer);\n\t\t\tif (this.startPageY - this.movePageY > 40) {//取消发送语音\n\t\t\t\tthis.duration = 0\n\t\t\t} else {\n\t\t\t\tconsole.log('发送语音');\n\t\t\t\t// let url = this.chatType == 'private' ? 'http://localhost:3000/upload/chat/private/voice' : 'http://localhost:3000/upload/chat/group/voice';\n\t\t\t\tlet url = this.chatType == 'private' ? 'http://www.yemengs.cn/upload/chat/private/voice' : 'http://www.yemengs.cn/upload/chat/group/voice';\n\t\t\t\tlet savePath = this.chatType == 'private' ? 'privateVoice' : 'groupVoice';\n\n\t\t\t\t\n\t\t\t\t// #ifdef H5   \n\t\t\t\t// 以下代码是在H5端测试时使用\n\t\t\t\t// let filePath = \"/static/mp3/1.wav\"\n\t\t\t\tlet filePath = \"/static/mp3/2.mp3\"\n\t\t\t\tlet fileFormat = (filePath).split(\".\");\n\t\t\t\tuni.uploadFile({\n\t\t\t\t\turl,\n\t\t\t\t\tfilePath,\n\t\t\t\t\tname: 'file',\n\t\t\t\t\tformData: {\n\t\t\t\t\t\ttoken: uni.getStorageSync('token'),\n\t\t\t\t\t\tid: this.id,\n\t\t\t\t\t\tsavePath,\n\t\t\t\t\t\tsuffix:fileFormat[fileFormat.length - 1],\n\t\t\t\t\t\tduration:this.duration\n\t\t\t\t\t},\n\t\t\t\t\tsuccess: (uploadFileRes) => {\n\t\t\t\t\t\tlet data = JSON.parse(uploadFileRes.data);\n\t\t\t\t\t\tif (this.chatType == 'private') {\n\t\t\t\t\t\t\t//私聊\n\t\t\t\t\t\t\tthis.$store.commit('updateChatMsg', {\n\t\t\t\t\t\t\t\tchatType: 'private',\n\t\t\t\t\t\t\t\tbelong: this.getUser._id,\n\t\t\t\t\t\t\t\tdate: new Date(),\n\t\t\t\t\t\t\t\tmessage: data.message,\n\t\t\t\t\t\t\t\ttype: 'voice',\n\t\t\t\t\t\t\t\tduration:this.duration\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t//群聊\n\t\t\t\t\t\t\tthis.$store.commit('updateChatMsg', {\n\t\t\t\t\t\t\t\tid: this.id,\n\t\t\t\t\t\t\t\tchatType: 'group',\n\t\t\t\t\t\t\t\tuser: {\n\t\t\t\t\t\t\t\t\tname: this.getUser.name,\n\t\t\t\t\t\t\t\t\tavatars: this.getUser.avatars\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tbelong: this.getUser._id,\n\t\t\t\t\t\t\t\tdate: new Date(),\n\t\t\t\t\t\t\t\tmessage: data.message,\n\t\t\t\t\t\t\t\ttype: 'voice',\n\t\t\t\t\t\t\t\tduration:this.duration\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.duration = 0;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t// #endif\n\t\t\t\t// #ifdef APP-PLUS\n\t\t\t\trecorderManager.stop();\n\t\t\t\trecorderManager.onStop(res => {\n\t\t\t\t\t\tuni.uploadFile({\n\t\t\t\t\t\t\turl,\n\t\t\t\t\t\t\tfilePath:  res.tempFilePath,\n\t\t\t\t\t\t\tname: 'file',\n\t\t\t\t\t\t\tformData: {\n\t\t\t\t\t\t\t\ttoken: uni.getStorageSync('token'),\n\t\t\t\t\t\t\t\tid: this.id,\n\t\t\t\t\t\t\t\tsavePath,\n\t\t\t\t\t\t\t\tduration:this.duration\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tsuccess: (uploadFileRes) => {\n\t\t\t\t\t\t\t\tlet data = JSON.parse(uploadFileRes.data);\n\t\t\t\t\t\t\t\tconsole.log(data)\n\t\t\t\t\t\t\t\tconsole.log(this.duration)\n\t\t\t\t\t\t\t\tif (this.chatType == 'private') {\n\t\t\t\t\t\t\t\t\t//私聊\n\t\t\t\t\t\t\t\t\tthis.$store.commit('updateChatMsg', {\n\t\t\t\t\t\t\t\t\t\tchatType: 'private',\n\t\t\t\t\t\t\t\t\t\tbelong: this.getUser._id,\n\t\t\t\t\t\t\t\t\t\tdate: new Date(),\n\t\t\t\t\t\t\t\t\t\tmessage: data.message,\n\t\t\t\t\t\t\t\t\t\ttype: 'voice',\n\t\t\t\t\t\t\t\t\t\tduration:this.duration\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t//群聊\n\t\t\t\t\t\t\t\t\tthis.$store.commit('updateChatMsg', {\n\t\t\t\t\t\t\t\t\t\tid: this.id,\n\t\t\t\t\t\t\t\t\t\tchatType: 'group',\n\t\t\t\t\t\t\t\t\t\tuser: {\n\t\t\t\t\t\t\t\t\t\t\tname: this.getUser.name,\n\t\t\t\t\t\t\t\t\t\t\tavatars: this.getUser.avatars\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tbelong: this.getUser._id,\n\t\t\t\t\t\t\t\t\t\tdate: new Date(),\n\t\t\t\t\t\t\t\t\t\tmessage: data.message,\n\t\t\t\t\t\t\t\t\t\ttype: 'voice',\n\t\t\t\t\t\t\t\t\t\tduration:this.duration\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthis.duration = 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\t\n\t\t\t\t})\n\t\t\t\t// #endif\n\t\t\t\t\n\t\t\t}\n\t\t},\n\t\tmove(e) {\n\t\t\tthis.movePageY = e.touches[0].pageY;\n\t\t},\n\t\t// 获取该组件的高度\n\t\tmeasure() {\n\t\t\tconst query = uni.createSelectorQuery().in(this);\n\t\t\tquery\n\t\t\t\t.select('.panel')\n\t\t\t\t.boundingClientRect(data => {\n\t\t\t\t\tthis.height = data.height;\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tthis.$emit('measure', data.height);\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.exec();\n\t\t},\n\t\t// 选择位置\n\t\tchooseLocation() {\n\t\t\tuni.chooseLocation({\n\t\t\t\tsuccess: res => {\n\t\t\t\t\t// console.log('位置名称：' + res.name);\n\t\t\t\t\t// console.log('详细地址：' + res.address);\n\t\t\t\t\t// console.log('纬度：' + res.latitude);\n\t\t\t\t\t// console.log('经度：' + res.longitude);\n\t\t\t\t\tthis.$store.dispatch('sendMsg', {\n\t\t\t\t\t\tmessage: res,\n\t\t\t\t\t\tid: this.id,\n\t\t\t\t\t\ttoken: uni.getStorageSync('token'),\n\t\t\t\t\t\ttype: 'location',\n\t\t\t\t\t\tchatType: this.chatType\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.panel {\n\tposition: fixed;\n\tz-index: 1100;\n\tleft: 0;\n\tright: 0;\n\twidth: 100vw;\n\tbottom: 0rpx;\n\tpadding-bottom: env(safe-area-inset-bottom);\n\t.panel-top {\n\t\tdisplay: flex;\n\t\toverflow: hidden;\n\t\tbackground: #f4f4f4;\n\t\t.left {\n\t\t\twidth: 80rpx;\n\t\t\t.sound {\n\t\t\t\theight: 100%;\n\t\t\t\tdisplay: flex;\n\t\t\t\tjustify-content: center;\n\t\t\t\talign-items: flex-end;\n\t\t\t\timage {\n\t\t\t\t\twidth: 70%;\n\t\t\t\t\theight: 70%;\n\t\t\t\t\tmargin-bottom: 24rpx;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t.center {\n\t\t\tflex: 1;\n\t\t\t.inputbox {\n\t\t\t\tmax-height: 158rpx;\n\t\t\t\tmargin: 14rpx;\n\t\t\t\tborder-radius: 10rpx;\n\t\t\t\tbackground: rgba(252, 253, 255, 1);\n\t\t\t\tbox-sizing: border-box;\n\t\t\t\tpadding: 20rpx 24rpx;\n\t\t\t\toverflow: hidden;\n\t\t\t\ttextarea {\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\tfont-size: 32rpx;\n\t\t\t\t}\n\t\t\t}\n\t\t\t.s_btn {\n\t\t\t\theight: 80rpx;\n\n\t\t\t\tfont-size: 32rpx;\n\t\t\t\tdisplay: flex;\n\t\t\t\tjustify-content: center;\n\t\t\t\talign-items: center;\n\t\t\t\tcolor: #b3b3b3;\n\t\t\t}\n\t\t\t.touch {\n\t\t\t\tbackground: #43d305;\n\t\t\t\tcolor: white;\n\t\t\t}\n\t\t}\n\t\t.right {\n\t\t\tdisplay: flex;\n\t\t\t.emoji {\n\t\t\t\twidth: 80rpx;\n\t\t\t\tdisplay: flex;\n\t\t\t\tjustify-content: center;\n\t\t\t\talign-items: flex-end;\n\t\t\t\tmargin-right: 4rpx;\n\t\t\t\timage {\n\t\t\t\t\twidth: 70%;\n\t\t\t\t\theight: 70%;\n\t\t\t\t\tmargin-bottom: 24rpx;\n\t\t\t\t}\n\t\t\t}\n\t\t\t.add {\n\t\t\t\twidth: 80rpx;\n\t\t\t\tdisplay: flex;\n\t\t\t\tjustify-content: center;\n\t\t\t\tmargin-right: 4rpx;\n\t\t\t\talign-items: flex-end;\n\t\t\t\timage {\n\t\t\t\t\twidth: 70%;\n\t\t\t\t\theight: 70%;\n\t\t\t\t\tmargin-bottom: 24rpx;\n\t\t\t\t}\n\t\t\t}\n\t\t\t.send {\n\t\t\t\twidth: 120rpx;\n\t\t\t\tdisplay: flex;\n\t\t\t\tjustify-content: center;\n\t\t\t\talign-items: flex-end;\n\t\t\t\t.btnbox {\n\t\t\t\t\theight: 56rpx;\n\t\t\t\t\tline-height: 56rpx;\n\t\t\t\t\tcolor: white;\n\t\t\t\t\tborder-radius: 10rpx;\n\t\t\t\t\twidth: 90%;\n\t\t\t\t\tmargin-right: 10%;\n\t\t\t\t\tfont-size: 30rpx;\n\t\t\t\t\tbackground: rgb(4, 179, 4);\n\t\t\t\t\ttext-align: center;\n\t\t\t\t\tmargin-bottom: 24rpx;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t.panel-bottom {\n\t\tbackground: #ecedee;\n\t\theight: 0rpx;\n\t\toverflow: hidden;\n\t\t.bottom-box {\n\t\t\tmargin: 30rpx;\n\t\t\twidth: calc(100vw - 60rpx);\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: row;\n\t\t\tflex-wrap: wrap;\n\t\t\t.module {\n\t\t\t\twidth: 25%;\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-wrap: wrap;\n\t\t\t\tjustify-content: center;\n\t\t\t\talign-items: center;\n\t\t\t\tmargin-bottom: 30rpx;\n\t\t\t\t.module-item {\n\t\t\t\t\twidth: 100rpx;\n\t\t\t\t\theight: 100rpx;\n\t\t\t\t\tborder-radius: 10rpx;\n\t\t\t\t\tbackground: white;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tjustify-content: center;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\timage {\n\t\t\t\t\t\twidth: 60%;\n\t\t\t\t\t\theight: 60%;\n\t\t\t\t\t}\n\t\t\t\t\t.hongbao {\n\t\t\t\t\t\twidth: 70%;\n\t\t\t\t\t\theight: 70%;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t.module-title {\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\tfont-size: 24rpx;\n\t\t\t\t\tcolor: rgba(39, 40, 50, 0.5);\n\t\t\t\t\theight: 60rpx;\n\t\t\t\t\tline-height: 60rpx;\n\t\t\t\t\ttext-align: center;\n\t\t\t\t}\n\t\t\t}\n\t\t\t.emoji {\n\t\t\t\tmargin-top: 30rpx;\n\t\t\t}\n\t\t}\n\t}\n}\n</style>\n","import { render, staticRenderFns, recyclableRender, components } from \"./emoji.vue?vue&type=template&id=7b8efcd2&scoped=true&\"\nvar renderjs\nimport script from \"./emoji.vue?vue&type=script&lang=js&\"\nexport * from \"./emoji.vue?vue&type=script&lang=js&\"\nimport style0 from \"./emoji.vue?vue&type=style&index=0&id=7b8efcd2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7b8efcd2\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/emoji/emoji.vue\"\nexport default component.exports","export * from \"-!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./emoji.vue?vue&type=template&id=7b8efcd2&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l1 = _vm.__map(_vm.list1, function(line, i) {\n    var $orig = _vm.__get_orig(line)\n\n    var l0 = _vm.__map(line, function(im, ix) {\n      var $orig = _vm.__get_orig(im)\n\n      var g0 = im.toString().replace(/^([1-9]\\d?|97)$/g, _vm.emotion(im))\n      return {\n        $orig: $orig,\n        g0: g0\n      }\n    })\n\n    return {\n      $orig: $orig,\n      l0: l0\n    }\n  })\n\n  var l3 = _vm.__map(_vm.list2, function(line, i) {\n    var $orig = _vm.__get_orig(line)\n\n    var l2 = _vm.__map(line, function(im, ix) {\n      var $orig = _vm.__get_orig(im)\n\n      var g1 = im.toString().replace(/^([1-9]\\d?|97)$/g, _vm.emotion(im))\n      return {\n        $orig: $orig,\n        g1: g1\n      }\n    })\n\n    return {\n      $orig: $orig,\n      l2: l2\n    }\n  })\n\n  var l5 = _vm.__map(_vm.list3, function(line, i) {\n    var $orig = _vm.__get_orig(line)\n\n    var l4 = _vm.__map(line, function(im, ix) {\n      var $orig = _vm.__get_orig(im)\n\n      var g2 = im.toString().replace(/^([1-9]\\d?|97)$/g, _vm.emotion(im))\n      return {\n        $orig: $orig,\n        g2: g2\n      }\n    })\n\n    return {\n      $orig: $orig,\n      l4: l4\n    }\n  })\n\n  var l7 = _vm.__map(_vm.list4, function(line, i) {\n    var $orig = _vm.__get_orig(line)\n\n    var l6 = _vm.__map(line, function(im, ix) {\n      var $orig = _vm.__get_orig(im)\n\n      var g3 = im.toString().replace(/^([1-9]\\d?|97)$/g, _vm.emotion(im))\n      return {\n        $orig: $orig,\n        g3: g3\n      }\n    })\n\n    return {\n      $orig: $orig,\n      l6: l6\n    }\n  })\n\n  var l9 = _vm.__map(_vm.list5, function(line, i) {\n    var $orig = _vm.__get_orig(line)\n\n    var l8 = _vm.__map(line, function(im, ix) {\n      var $orig = _vm.__get_orig(im)\n\n      var g4 = im.toString().replace(/^([1-9]\\d?|97)$/g, _vm.emotion(im))\n      return {\n        $orig: $orig,\n        g4: g4\n      }\n    })\n\n    return {\n      $orig: $orig,\n      l8: l8\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l1: l1,\n        l3: l3,\n        l5: l5,\n        l7: l7,\n        l9: l9\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./emoji.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./emoji.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"emotion-box\">\n\t\t<swiper class=\"swiper\" disable-programmatic-animation=\"true\" indicator-dots=\"true\">\n\t\t\t<swiper-item class=\"emotion-box-line\">\n\t\t\t\t<view v-for=\"(line, i) in list1\" v-bind:key=\"i\">\n\t\t\t\t\t<view v-for=\"(im, ix) in line\" v-bind:key=\"ix\" class=\"swiper-item emotion-item\" :style=\"{ width: img_width + 'px' }\" @click=\"clickHandler(im)\">\n\t\t\t\t\t\t<rich-text :nodes=\"im.toString().replace(/^([1-9]\\d?|97)$/g, emotion(im))\"></rich-text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</swiper-item>\n\t\t\t<swiper-item class=\"emotion-box-line\">\n\t\t\t\t<view v-for=\"(line, i) in list2\" v-bind:key=\"i\">\n\t\t\t\t\t<view v-for=\"(im, ix) in line\" v-bind:key=\"ix\" class=\"swiper-item emotion-item\" :style=\"{ width: img_width + 'px' }\" @click=\"clickHandler(im)\">\n\t\t\t\t\t\t<rich-text :nodes=\"im.toString().replace(/^([1-9]\\d?|97)$/g, emotion(im))\"></rich-text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</swiper-item>\n\t\t\t<swiper-item class=\"emotion-box-line\">\n\t\t\t\t<view v-for=\"(line, i) in list3\" v-bind:key=\"i\">\n\t\t\t\t\t<view v-for=\"(im, ix) in line\" v-bind:key=\"ix\" class=\"swiper-item emotion-item\" :style=\"{ width: img_width + 'px' }\" @click=\"clickHandler(im)\">\n\t\t\t\t\t\t<rich-text :nodes=\"im.toString().replace(/^([1-9]\\d?|97)$/g, emotion(im))\"></rich-text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</swiper-item>\n\t\t\t<swiper-item class=\"emotion-box-line\">\n\t\t\t\t<view v-for=\"(line, i) in list4\" v-bind:key=\"i\">\n\t\t\t\t\t<view v-for=\"(im, ix) in line\" v-bind:key=\"ix\" class=\"swiper-item emotion-item\" :style=\"{ width: img_width + 'px' }\" @click=\"clickHandler(im)\">\n\t\t\t\t\t\t<rich-text :nodes=\"im.toString().replace(/^([1-9]\\d?|97)$/g, emotion(im))\"></rich-text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</swiper-item>\n\t\t\t<swiper-item class=\"emotion-box-line\">\n\t\t\t\t<view v-for=\"(line, i) in list5\" v-bind:key=\"i\">\n\t\t\t\t\t<view v-for=\"(im, ix) in line\" v-bind:key=\"ix\" class=\"swiper-item emotion-item\" :style=\"{ width: img_width + 'px' }\" @click=\"clickHandler(im)\">\n\t\t\t\t\t\t<rich-text :nodes=\"im.toString().replace(/^([1-9]\\d?|97)$/g, emotion(im))\"></rich-text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</swiper-item>\n\t\t</swiper>\n\t</view>\n</template>\n\n<script>\nexport default {\n\tprops: {},\n\n\tdata() {\n\t\treturn {\n\t\t\t// 画矩阵\n\t\t\tlist1: [[1, 2, 3], [4, 5, 6], [7, 8, 9], [10, 11, 12], [13, 14, 15], [16, 17, 18], [19, 20, 21], [22, 23, 98]],\n\t\t\tlist2: [[25, 26, 27], [28, 29, 30], [31, 32, 33], [34, 35, 36], [37, 38, 39], [40, 41, 42], [43, 44, 45], [46, 47, 98]],\n\t\t\tlist3: [[49, 50, 51], [52, 53, 54], [55, 56, 57], [58, 59, 60], [61, 62, 63], [64, 65, 66], [67, 68, 69], [70, 71, 98]],\n\t\t\tlist4: [[73, 74, 75], [76, 77, 78], [79, 80, 81], [82, 83, 84], [85, 86, 87], [88, 89, 90], [91, 92, 93], [94, 95, 98]],\n\t\t\tlist5: [[24], [48], [72], [96], [97], [98]],\n\t\t\titem: [],\n\t\t\timg_width: 0\n\t\t};\n\t},\n\tmounted() {\n\t\t// #ifdef APP-PLUS || H5\n\t\tconst query = uni.createSelectorQuery().in(this);\n\t\tquery\n\t\t\t.select('.emotion-box')\n\t\t\t.boundingClientRect(data => {\n\t\t\t\tthis.img_width = data.width / 10;\n\t\t\t})\n\t\t\t.exec();\n\t\t// #endif\n\t\t// #ifdef MP-WEIXIN\n\t\tthis.img_width = 22;\n\t\t// #endif\n\t},\n\tmethods: {\n\t\tclickHandler(i) {\n\t\t\t// let emotion = `[em_${i}]`;\n\t\t\tthis.$emit('emotion', i+'.gif');\n\t\t},\n\t\temotion(res) {\n\t\t\tconst list = Array.from({ length: 100 }, (v, k) => k);\n\t\t\tlet index = list.indexOf(res);\n\t\t\t//  请将此处地址更换为自己服务器的地址\n\t\t\treturn `<img src=\"http://www.yemengs.cn/emoji/${index}.gif\" align=\"middle\">`;\n\t\t}\n\t}\n};\n</script>\n\n<style scoped>\n.emotion-box {\n\theight: 400rpx;\n\tmargin: 0 auto;\n\t\n\twidth: 750rpx;\n\tbox-sizing: border-box;\n\tpadding-top: 30rpx;\n\toverflow: hidden;\n\tbackground: #ecedee;\n}\n\n.emotion-box-line {\n\tdisplay: flex;\n}\n\n.emotion-item {\n\tflex: 1;\n\ttext-align: center;\n\tcursor: pointer;\n\tpadding: 10rpx;\n\tpadding-top: 20rpx;\n}\n</style>\n","import mod from \"-!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./emoji.vue?vue&type=style&index=0&id=7b8efcd2&scoped=true&lang=css&\"; export default mod; export * from \"-!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./emoji.vue?vue&type=style&index=0&id=7b8efcd2&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1650074614718\n      var cssReload = require(\"D:/software/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import mod from \"-!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./submit.vue?vue&type=style&index=0&id=36098544&lang=scss&scoped=true&\"; export default mod; export * from \"-!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./submit.vue?vue&type=style&index=0&id=36098544&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1650074614825\n      var cssReload = require(\"D:/software/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","export * from \"-!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./submit.vue?vue&type=template&id=36098544&scoped=true&\"","var components\ntry {\n  components = {\n    emoji: function() {\n      return import(\n        /* webpackChunkName: \"components/emoji/emoji\" */ \"@/components/emoji/emoji.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }"],"sourceRoot":""}